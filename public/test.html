<!DOCTYPE html>
<html>
<head>
    <title>Vectorizer.js Example</title>
    <script src="https://cdn.jsdelivr.net/npm/vectorizer@1.0.1/dist/vectorizer.min.js"></script>
</head>
<body>
    <input type="file" id="upload" />
    <script>
        document.getElementById('upload').addEventListener('change', function(event) {
            const file = event.target.files[0];
            if (!file) return;

            const reader = new FileReader();
            reader.onload = function(e) {
                const image = new Image();
                image.onload = function() {
                    // Create a canvas element to draw the image
                    const canvas = document.createElement('canvas');
                    const ctx = canvas.getContext('2d');
                    canvas.width = image.width;
                    canvas.height = image.height;
                    ctx.drawImage(image, 0, 0);

                    // Convert canvas to data URL
                    const imageDataURL = canvas.toDataURL('image/png');

                    // Vectorize the image
                    Vectorizer(imageDataURL, { 
                        width: canvas.width,
                        height: canvas.height,
                        threshold: 0.5 // Adjust the threshold to fine-tune the vectorization
                    }).then(result => {
                        // result.svg contains the SVG path data
                        console.log(result.svg);
                        // Process or display the SVG as needed
                        document.body.innerHTML += `<div>${result.svg}</div>`;
                    }).catch(error => {
                        console.error('Error vectorizing image:', error);
                    });
                };
                image.src = e.target.result;
            };
            reader.readAsDataURL(file);
        });
    </script>
</body>
</html>
